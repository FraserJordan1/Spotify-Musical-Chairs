<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Lab 4: free-rtos-spotify-player/rfid_and_lcd_with_spotify.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Lab 4
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9a5bf3243b8c2fb945d0f2550174921b.html">free-rtos-spotify-player</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">rfid_and_lcd_with_spotify.py File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>!  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6bd9ffa2b03210fc9debc869d0e08554"><td class="memItemLeft" align="right" valign="top"><a id="a6bd9ffa2b03210fc9debc869d0e08554" name="a6bd9ffa2b03210fc9debc869d0e08554"></a>
None&#160;</td><td class="memItemRight" valign="bottom"><b>start_album</b> (str album_title)</td></tr>
<tr class="separator:a6bd9ffa2b03210fc9debc869d0e08554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6db2358dba5ac263ee425a1d6656c908"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfid__and__lcd__with__spotify_8py.html#a6db2358dba5ac263ee425a1d6656c908">start_song</a> (str song_title)</td></tr>
<tr class="memdesc:a6db2358dba5ac263ee425a1d6656c908"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plays the given song/track code on Spotify.  <br /></td></tr>
<tr class="separator:a6db2358dba5ac263ee425a1d6656c908"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0df884b48ade2ea83e8f53985e7e4c22"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfid__and__lcd__with__spotify_8py.html#a0df884b48ade2ea83e8f53985e7e4c22">read_value</a> ()</td></tr>
<tr class="memdesc:a0df884b48ade2ea83e8f53985e7e4c22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plays the given song/track code on Spotify.  <br /></td></tr>
<tr class="separator:a0df884b48ade2ea83e8f53985e7e4c22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9367fbfffd9b6b88a4fadab609a346f1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfid__and__lcd__with__spotify_8py.html#a9367fbfffd9b6b88a4fadab609a346f1">get_currently_playing_song</a> (prev_song_info, prev_song_str)</td></tr>
<tr class="memdesc:a9367fbfffd9b6b88a4fadab609a346f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends the new song information to serial, if the song playing on Spotify has changed.  <br /></td></tr>
<tr class="separator:a9367fbfffd9b6b88a4fadab609a346f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51af30a60f9f02777c6396b8247e356f"><td class="memItemLeft" align="right" valign="top"><a id="a51af30a60f9f02777c6396b8247e356f" name="a51af30a60f9f02777c6396b8247e356f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>main</b> ()</td></tr>
<tr class="separator:a51af30a60f9f02777c6396b8247e356f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab1b8b390ca224f5e4baaeb24eae0bbb5"><td class="memItemLeft" align="right" valign="top"><a id="ab1b8b390ca224f5e4baaeb24eae0bbb5" name="ab1b8b390ca224f5e4baaeb24eae0bbb5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>CLIENT_ID</b> = os.getenv(&quot;client_id&quot;)</td></tr>
<tr class="separator:ab1b8b390ca224f5e4baaeb24eae0bbb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc97b2c116f1784260c74207fd83b76d"><td class="memItemLeft" align="right" valign="top"><a id="abc97b2c116f1784260c74207fd83b76d" name="abc97b2c116f1784260c74207fd83b76d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>CLIENT_SECRET</b> = os.getenv(&quot;client_secret&quot;)</td></tr>
<tr class="separator:abc97b2c116f1784260c74207fd83b76d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a254884ceb04aa9adaa4e26bccc1164"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfid__and__lcd__with__spotify_8py.html#a4a254884ceb04aa9adaa4e26bccc1164">sp</a></td></tr>
<tr class="separator:a4a254884ceb04aa9adaa4e26bccc1164"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7555938dcc3ebeed840a767ed8148926"><td class="memItemLeft" align="right" valign="top"><a id="a7555938dcc3ebeed840a767ed8148926" name="a7555938dcc3ebeed840a767ed8148926"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>SerialObj</b> = serial.Serial('COM4')</td></tr>
<tr class="separator:a7555938dcc3ebeed840a767ed8148926"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>! </p>
<dl class="section author"><dt>Author</dt><dd>Jordan Fraser, Nina Okubo </dd></dl>
<dl class="section date"><dt>Date</dt><dd>August 18, 2023</dd></dl>
<p>ECE Lab 4, Part C. Making API requests to Spotify @detail University of Washington ECE 474 Acknowledgments: Serial communication was inspired by the following GitHub by Rahul.S GitHub: <a href="https://github.com/xanthium-enterprises/CrossPlatform-Serial-Port-Programming-using-Python-and-PySerial/tree/master">https://github.com/xanthium-enterprises/CrossPlatform-Serial-Port-Programming-using-Python-and-PySerial/tree/master</a></p>
<p>This program plays the song/album on Spotify sent by Serial Communication, and also sends the current song being played on Spotify to the Serial </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a9367fbfffd9b6b88a4fadab609a346f1" name="a9367fbfffd9b6b88a4fadab609a346f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9367fbfffd9b6b88a4fadab609a346f1">&#9670;&#160;</a></span>get_currently_playing_song()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_currently_playing_song </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prev_song_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prev_song_str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends the new song information to serial, if the song playing on Spotify has changed. </p>
<dl class="section author"><dt>Author</dt><dd>Jordan Fraser, Nina Okubo </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prev_song_info</td><td>Dictionary with the info about the most previous song that was sent to Serial </td></tr>
    <tr><td class="paramname">prev_song_str</td><td>The most recent song string that was sent to Serial</td></tr>
  </table>
  </dd>
</dl>
<p>If the current song playing on Spotify has changed since the most recent song info sent to Serial, then we get the information about the current song playing, and send the new song's title and artist to Serial. Acknowledgements: Serial communication inspired by the following github repo: <a href="https://github.com/xanthium-enterprises/CrossPlatform-Serial-Port-Programming-using-Python-and-PySerial/blob/master/_1_Python3_Codes/_2_PySerial_Transmit_2.py">https://github.com/xanthium-enterprises/CrossPlatform-Serial-Port-Programming-using-Python-and-PySerial/blob/master/_1_Python3_Codes/_2_PySerial_Transmit_2.py</a> </p><dl class="section see"><dt>See also</dt><dd>main() </dd></dl>

</div>
</div>
<a id="a0df884b48ade2ea83e8f53985e7e4c22" name="a0df884b48ade2ea83e8f53985e7e4c22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0df884b48ade2ea83e8f53985e7e4c22">&#9670;&#160;</a></span>read_value()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None read_value </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Plays the given song/track code on Spotify. </p>
<dl class="section author"><dt>Author</dt><dd>Jordan Fraser, Nina Okubo </dd></dl>
<p>Reads the value from Serial, and plays the given album/song. Acknowledgements: Serial communication inspired by the following github repo: <a href="https://github.com/xanthium-enterprises/CrossPlatform-Serial-Port-Programming-using-Python-and-PySerial/blob/master/_1_Python3_Codes/_5_PySerial-Receive_String.py">https://github.com/xanthium-enterprises/CrossPlatform-Serial-Port-Programming-using-Python-and-PySerial/blob/master/_1_Python3_Codes/_5_PySerial-Receive_String.py</a> </p><dl class="section see"><dt>See also</dt><dd>main(), start_album(), start_song() </dd></dl>

</div>
</div>
<a id="a6db2358dba5ac263ee425a1d6656c908" name="a6db2358dba5ac263ee425a1d6656c908"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6db2358dba5ac263ee425a1d6656c908">&#9670;&#160;</a></span>start_song()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None start_song </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>song_title</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Plays the given song/track code on Spotify. </p>
<dl class="section author"><dt>Author</dt><dd>Jordan Fraser, Nina Okubo </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">song_title</td><td>The Spotify song code as a string to play on Spotify</td></tr>
  </table>
  </dd>
</dl>
<p>Plays the given song on Spotify Acknowledgements: The Spotipy Library Documentation </p><dl class="section see"><dt>See also</dt><dd>read_value() </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a4a254884ceb04aa9adaa4e26bccc1164" name="a4a254884ceb04aa9adaa4e26bccc1164"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a254884ceb04aa9adaa4e26bccc1164">&#9670;&#160;</a></span>sp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sp</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  spotipy.Spotify(auth_manager=SpotifyOAuth(client_id=CLIENT_ID,</div>
<div class="line"><span class="lineno">    2</span>                                               client_secret=CLIENT_SECRET,</div>
<div class="line"><span class="lineno">    3</span>                                               redirect_uri=<span class="stringliteral">&quot;http://localhost:3000&quot;</span>,</div>
<div class="line"><span class="lineno">    4</span>                                               scope=<span class="stringliteral">&quot;user-read-playback-state,user-modify-playback-state&quot;</span>))</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
